<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ATE Bounds using IVs • Bounds in Two-Sample Mendelian Randomization With Summary Statistics</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="ATE Bounds using IVs">
<meta property="og:description" content="Find Average Treatment Effects using IVs. Utilizes polymake to find bounds for any categorical IV.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Bounds in Two-Sample Mendelian Randomization With Summary Statistics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/ATEBounds.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    <li class="dropdown-header">Exploration of Bounds</li>
    <li>
      <a href="articles/bounds_from_bivariate.html">Bounds using Two-Sample Data</a>
    </li>
    <li>
      <a href="articles/bounds_from_trivariate.html">Utilize two-sample data two get potential one-sample bounds</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">"Power" analysis</li>
    <li>
      <a href="articles/power_sims.html">"Power" Simulations</a>
    </li>
    <li>
      <a href="articles/power_sims_figures.html">"Power" Figures</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Two-Sample Bounds using Multiple Instruments</li>
    <li>
      <a href="articles/multiple_IVs_sims.html">Multiple IVs: Simulations</a>
    </li>
    <li>
      <a href="articles/multiple_IVs_figures.html">Multiple IVs: Figures</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Example Analysis using `TwoSampleMR`</li>
    <li>
      <a href="articles/example_analysis.html">Example Analysis of Data from the IEU GWAS Database</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Other</li>
    <li>
      <a href="articles/polymake_example.html">Polymake Example</a>
    </li>
    <li>
      <a href="articles/get_bounds.html">How to use the `get_bounds` function</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rmtrane/ATEBounds/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="non-parametric-bounds-in-two-sample-summary-data-mendelian-randomization-some-cautionary-tales-for-practice" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#non-parametric-bounds-in-two-sample-summary-data-mendelian-randomization-some-cautionary-tales-for-practice" class="anchor"></a>Non-parametric Bounds in Two-Sample Summary-Data Mendelian Randomization: Some Cautionary Tales for Practice</h1></div>
<p>This website provides full documentation of the code used for our paper, and step-by-step guides on how to reproduce every figure and result. For the curious, it was generated using <a href="https://pkgdown.r-lib.org"><code>pkgdown</code></a>.</p>
<p>The R-package <code>ATEBounds</code> includes every bit of code needed to reproduce all figures and results included in our paper. Since the main purpose is to ensure the reproducibility of figures and results from this specific paper, it has not been thoroughly tested in other settings. The code has not been optimized for performance, and was mainly written and documented for internal use only. That being said, many parts of this can be directly applied to other data sets, or reused in different settings.</p>
<p>You can install this package using <code><a href="https://remotes.r-lib.org/reference/install_github.html">remotes::install_github("rmtrane/ATEBounds")</a></code>. This site includes an introduction to finding nonparametric bounds on the ATE using this package (<a href="articles/ATEBounds.html">Get started</a>) and documentation of the functions included. On top of that, there are a few pages with information on how to reproduce our results; see below for more. One that might be of particular interest is <code><a href="articles/example_analysis.html">vignette("example_analysis")</a></code>, which shows how to use this package to obtain two-sample bounds based on studies from the MR-Base database.</p>
<div id="introduction-to-our-work" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction-to-our-work" class="anchor"></a>Introduction to our work</h2>
<p>Nonparametric bounds of the Average Treatment Effect (ATE) are intriguing for several reasons. Getting bounds on the ATE with no further assumptions other than what is embedded in the IV model is very appealing in particular as such assumptions often limit the structure of unmeasured confounders. By definition, assumptions about unmeasured confounders cannot be checked, and it is therefore desirable to avoid such.</p>
<p>Many have considered nonparametric bounds in the past. Swanson et al. (2018) provide a nice overview of different bounds derived from different sets of assumptions. Arguably the weakest set of assumptions result in what is known as the Balke-Pearl bounds, first presented in Balke and Pearl (1993).</p>
<p>The same set of bounds can be obtained using a geometric approach as presented by Ramsahai (2012). We will rely on this work as it provides a very general approach to finding bounds. This allows us to obtain bounds in a setting where we do not have observations of (<em>X</em>, <em>Y</em>, <em>Z</em>), but rather observations of (<em>X</em>, <em>Z</em>) and (<em>Y</em>, <em>Z</em>) from two different data sources. (We will refer to the former as the one-sample (or trivariate) setting, and the latter as the two-sample (or bivariate) setting.) This is relevant today in many mendelian randomization (MR) analyses that have a natural desire to take advantage of the large databases readily available. These databases contain results from GWAS in the form of summary statistics. Each GWAS is essentially exploring associations between a feature of interest (smoking, obesity, incidence of heart attack, etc.) and many thousands of SNPs. When the feature of interest is binary, the summary statistics are often obtained using logistic regression.</p>
<p>The behavior of nonparametric bounds based on one-sample data is pretty well-studied, but little is known about the behavior of nonparametric bounds based on two-sample data. The goal of this work is to shine a light on when nonparametric bounds can be useful particularly in two-sample MR studies based on GWAS summary statistics. We do this based on two aspects of the bounds: (1) the length of the bounds and (2) whether the bounds cover the null effect of zero.</p>
<p>Our paper contains the following sections:</p>
<ul>
<li>
<strong>Section 2</strong> reviews relevant notation, definitions and assumptions, and introduces the two-sample IV bounds derived by Ramsahai (2012).</li>
<li>
<strong>Section 3</strong> shows that even when adding two strong monotonicity assumptions, the width of two-sample bounds are bounded above by 2 − 2 ⋅ ST (where ST = max<sub><em>z</em><sub>1</sub> ≠ <em>z</em><sub>2</sub></sub> = |<em>P</em>(<em>X</em> = 1|<em>Z</em> = <em>z</em><sub>1</sub>) − <em>P</em>(<em>X</em> = 2|<em>Z</em> = <em>z</em><sub>2</sub>)| is the measure of strength of the instrument we consider). This is important as one-sample bounds are guaranteed to have width at most 1. We show through simulations that this upper bounds is sharp also when the two monotonicity assumptions are not imposed. Figure 1a of our paper shows this, and is created in <code><a href="articles/bounds_from_bivariate.html">vignette("bounds_from_bivariate")</a></code>. Since our ST metric isn’t common in MR studies, we illustrate the relationship between the ST measure and coefficients from a logistic model, and show what kind of coefficient is needed for two-sample bounds to exclude the null effect 0 for various effect sizes. The latter can to some extend be thought of as a “power analysis,” except we work under the assumption that we have population based probabilities. Figures 1b and 2 are created in <code><a href="articles/power_sims_figures.html">vignette("power_sims_figures")</a></code>. Finally, we mention the use of multiple instruments. The main part of this discussion is presented in eAppendix A.5. Simulations for this eAppendix are in <code><a href="articles/multiple_IVs_sims.html">vignette("multiple_IVs_sims")</a></code> and figures are created in <code><a href="articles/multiple_IVs_figures.html">vignette("multiple_IVs_figures")</a></code>.</li>
<li>
<strong>Section 4</strong> illustrates the information loss we see when using a two-sample rather than a one-sample design. <code><a href="articles/bounds_from_trivariate.html">vignette("bounds_from_trivariate")</a></code> shows how Figure 3 was created.</li>
<li>
<strong>Section 5</strong> demonstrates our findings on two real MR studies. <code><a href="articles/example_analysis.html">vignette("example_analysis")</a></code> shows how we obtained the data and preprocessed it using the <code>TwoSampleMR</code> R-package (Hemani et al. 2018), and how Figures 4 and 5 were created. It also includes the code needed to reproduce eFigures and eTables in eAppendix A.7.</li>
</ul>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Balke, Alexander, and Judea Pearl. 1993. “Nonparametric Bounds on Causal Effects from Partial Compliance Data.” JOURNAL OF THE AMERICAN STATISTICAL ASSOCIATION.</p>
<p>Hemani, Gibran, Jie Zheng, Benjamin Elsworth, Kaitlin H Wade, Valeriia Haberland, Denis Baird, Charles Laurin, et al. 2018. “The MR-Base Platform Supports Systematic Causal Inference Across the Human Phenome.” Edited by Ruth Loos. <em>eLife</em> 7 (May): e34408. <a href="https://doi.org/10.7554/eLife.34408" class="uri">https://doi.org/10.7554/eLife.34408</a>.</p>
<p>Ramsahai, Roland R. 2012. “Causal Bounds and Observable Constraints for Non-Deterministic Models.” <em>J. Mach. Learn. Res.</em> 13 (March): 829–48.</p>
<p>Swanson, Sonja A., Miguel A. Hern’an, Matthew Miller, James M. Robins, and Thomas S. Richardson. 2018. “Partial Identification of the Average Treatment Effect Using Instrumental Variables: Review of Methods for Binary Instruments, Treatments, and Outcomes.” <em>Journal of the American Statistical Association</em> 113 (522): 933–47. <a href="https://doi.org/10.1080/01621459.2018.1434530" class="uri">https://doi.org/10.1080/01621459.2018.1434530</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/rmtrane/ATEBounds/">https://​github.com/​rmtrane/​ATEBounds/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Ralph Møller Trane <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Ralph Møller Trane.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
